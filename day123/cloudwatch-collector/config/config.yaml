# AWS CloudWatch Collector Configuration

aws:
  regions:
    - us-east-1
    - us-west-2
  
  accounts:
    - account_id: "default"
      role_arn: null  # Set to assume role ARN if using cross-account
      external_id: null
  
  cloudwatch:
    max_retries: 5
    retry_delay: 1.0
    max_connections: 20
    timeout: 30

collector:
  discovery_interval: 300  # 5 minutes
  polling_interval: 5      # 5 seconds
  batch_size: 100
  max_batch_wait: 5.0
  
  filters:
    enabled: true
    patterns:
      - "ERROR"
      - "WARN"
      - "Exception"
  
  state:
    checkpoint_interval: 30
    checkpoint_batch_size: 1000
    storage_type: "redis"  # redis or file

pipeline:
  buffer_size: 10000
  max_memory_mb: 10240  # 10GB
  worker_threads: 4
  
  circuit_breaker:
    failure_threshold: 5
    timeout: 60
    half_open_timeout: 30

forwarding:
  enabled: false
  endpoint: "http://localhost:9092"
  batch_size: 500
  max_retries: 3
  timeout: 10

monitoring:
  prometheus_port: 8000
  dashboard_port: 5000
  health_check_interval: 30

logging:
  level: INFO
  format: json
  file: logs/cloudwatch-collector.log
